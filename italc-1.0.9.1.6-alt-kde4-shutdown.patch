 ica/src/local_system_ica.cpp |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/ica/src/local_system_ica.cpp b/ica/src/local_system_ica.cpp
index 7cd6456..02acd4d 100644
--- a/ica/src/local_system_ica.cpp
+++ b/ica/src/local_system_ica.cpp
@@ -458,6 +458,7 @@ void powerDown( void )
 		QProcess::startDetached( "gdm-signal -h" ); // Gnome shutdown
 		QProcess::startDetached( "gnome-session-save --silent --kill" ); // Gnome logout
 		QProcess::startDetached( "dcop ksmserver ksmserver logout 0 2 0" ); // KDE shutdown
+		QProcess::startDetached( "qdbus org.kde.ksmserver /KSMServer logout 0 2 0" ); // KDE4 shutdown
 	}
 #endif
 }
@@ -472,6 +473,7 @@ void logoutUser( void )
 #else
 	QProcess::startDetached( "gnome-session-save --silent --kill" ); // Gnome logout
 	QProcess::startDetached( "dcop ksmserver ksmserver logout 0 0 0" ); // KDE logout
+	QProcess::startDetached( "qdbus org.kde.ksmserver /KSMServer logout 0 0 0" ); // KDE4 logout
 #endif
 }
 
@@ -500,6 +502,7 @@ void reboot( void )
 		QProcess::startDetached( "gdm-signal -r" ); // Gnome reboot
 		QProcess::startDetached( "gnome-session-save --silent --kill" ); // Gnome logout
 		QProcess::startDetached( "dcop ksmserver ksmserver logout 0 1 0" ); // KDE reboot
+		QProcess::startDetached( "qdbus org.kde.ksmserver /KSMServer logout 0 1 0" ); // KDE4 reboot
 	}
 #endif
 }
